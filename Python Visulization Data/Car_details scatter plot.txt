import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# ğŸ“¥ Î”Î¹Î±Î²Î¬Î¶Î¿Ï…Î¼Îµ Ï„Î¿ CSV
file_path = r"C:\Users\agkap\Desktop\Car_details.csv"
df = pd.read_csv(file_path)

# ğŸ‘€ Î ÏÎ¿ÎµÏ€Î¹ÏƒÎºÏŒÏ€Î·ÏƒÎ· Ï„Ï‰Î½ Ï€ÏÏÏ„Ï‰Î½ Î³ÏÎ±Î¼Î¼ÏÎ½
print("ğŸ”¹ Î ÏÏÏ„ÎµÏ‚ 5 Î³ÏÎ±Î¼Î¼Î­Ï‚:\n", df.head())

# ğŸ§¹ ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚: Î‘Î½Ï„Î¹ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î¼Î· Î±ÏÎ¹Î¸Î¼Î·Ï„Î¹ÎºÏÎ½ Ï„Î¹Î¼ÏÎ½ (Ï€.Ï‡. '?') Î¼Îµ NaN
df['horsepower'] = df['horsepower'].replace('?', np.nan)

# ÎœÎµÏ„Î±Ï„ÏÎ¿Ï€Î® horsepower ÏƒÎµ numeric ÎºÎ±Î¹ NaN ÏƒÎµ Î¼Î­ÏƒÎ· Ï„Î¹Î¼Î®
df['horsepower'] = pd.to_numeric(df['horsepower'], errors='coerce')
df['horsepower'].fillna(df['horsepower'].mean(), inplace=True)

# ğŸ“Š Î’Î±ÏƒÎ¹ÎºÎ¬ Î£Ï„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬
print("\nğŸ”¹ Î£Ï„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ Î ÎµÏÎ¹Î³ÏÎ±Ï†Î¹ÎºÎ¬:\n", df.describe())

# âœ… Î•Î»Î­Î³Ï‡Î¿Ï…Î¼Îµ Î±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±ÎºÏŒÎ¼Î± ÎºÎµÎ½Î¬
print("\nğŸ”¹ ÎšÎµÎ½Î­Ï‚ Ï„Î¹Î¼Î­Ï‚ Î±Î½Î¬ ÏƒÏ„Î®Î»Î·:\n", df.isnull().sum())

# âœ… Scatter plot: Weight vs MPG Î¼Îµ legend Ï„Î¿Ï…Ï‚ Cylinders
plt.figure(figsize=(10, 6))
sns.scatterplot(x='weight', y='mpg', hue='cylinders', palette='Set1', data=df)
plt.title('Weight vs. MPG (Ï‡ÏÏ‰Î¼Î±Ï„Î¹ÏƒÎ¼ÏŒÏ‚ Î±Î½Î¬ Cylinders)')
plt.xlabel('Weight')
plt.ylabel('Miles per Gallon (MPG)')
plt.legend(title='Cylinders')
plt.grid(True)
plt.tight_layout()
plt.show()